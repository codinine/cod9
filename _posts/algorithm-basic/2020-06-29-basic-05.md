---
layout: post
title: "[알고리즘-기초]05.해시"
date:   2020-06-29 13:50:39
categories: algorithm
---

### [](#해시-함수의-이해 "해시 함수의 이해")해시 함수의 이해

친구들과 노래방에 갔다고 해보죠. 우리는 ‘가나다’ 노래제목이 정렬된 책을 보며  
부를 노래를 찾고 있습니다. 기본적으로 정렬이 되어있으므로 노래를 찾는 시간  
빅오표기법으로 `O(log n)`이 됩니다. 이것만으로도 상당히 빠르다고 할 수 있죠.  
하지만 노래를 최대한 빨리 많이 부르고 싶어집니다. 그래서 노래방에 있는 노래와 번호를  
모두 외우기로 결심합니다.

그랬더니 기억공간(메모리)을 엄청나게 소모하게됐지만 우리는 제목만 들으면 바로  
노래방 번호를 알 수 있게 되었습니다. 단 1초만에요. 이랬을 경우 시간은 `O(1)`이 됩니다.  
엄청난 속도죠.

해시 함수가 바로 이런 역할을 한다고 합니다.  
이제부터 해시 함수에 대해 조금 더 자세히 알아보겠습니다.

### [](#해시-함수 "해시 함수")해시 함수

해시 함수는 문자열을 받아서 숫자를 반환하는 함수입니다.  
아이유의 ‘좋은 날’ 이라는 노래를 배열의 특정 공간에 저장한다고 합시다.  
그럼 우리는 ‘좋은 날’을 입력했을때, 숫자 3을 돌려받게 된다고 하죠.  
그럼 ‘좋은 날’을 검색할때 마다 항상 3을 반환할 것이고. 그 3이라는 공간 안에는  
아이유의 ‘노래방 번호’가 존재하게 되는 겁니다.

우리는 아이유의 노래가 저장되어있는 공간 3을 `인덱스`라고 부릅니다.  
이렇게 모든 노래 목록을 저장하게 되면 어떤 노래를 검색하더라도  
고유한 인덱스를 반환받게 될 것입니다.  
그럼 그 공간의 `노래방 번호`를 아주 빨리 얻을 수 있게 되죠.

이렇게 해시 함수와 배열을 합하여 `해시 테이블`이라는 자료구조로 부릅니다.  
`해시 테이블`은 언어나 사용 하는 방식에 따라 `맵`,`딕셔너리`,`연관 배열`등의 이름으로  
부르기도 합니다.

파이썬에서는 `딕셔너리`라고 하는 것이 바로 해시테이블이었네요.  
바로 Key - Value 형태로 저장되어 Key만 입력하면 바로 어떤 Value를 가졌는지 알 수 있죠.  
이미 파이썬에서 해시테이블을 제공하고 있으므로 복습 차원으로 간단하게 형태만 다시 한번 확인해 보도록 하겠습니다.

#### [](#구현 "구현")구현

##### [](#Example "Example")Example

{% codeblock lang:python %}
book = dict()  
# an apple costs 67 cents  
book["IU"] = 11159  
# milk costs $1.49  
book["BTS"] = 23357  
book["PSY"] = 44468  
print(book)  
print(book["BTS"])  
{% endcodeblock %}

##### [](#Result "Result")Result

{% codeblock %}
{'IU': 11159, 'BTS': 23357, 'PSY': 44468}  
23357  
{% endcodeblock %}

#### [](#해시-테이블이-사용되는-예 "해시 테이블이 사용되는 예")해시 테이블이 사용되는 예

1.  전화번호부
2.  도메인-IP
3.  캐싱

#### [](#해시-충돌 "해시 충돌")해시 충돌

해시 테이블은 사실 한 공간에 하나의 데이터만 저장되는 것 같지만 실제로는 이렇게  
구현하는 방법은 거의 불가능합니다.  
특정한 규칙에 의해 해시 테이블 공간에 들어가게 되는데 예를 들어 ‘ㅇ’로 시작하는 모든  
가수들을 한 공간에 저장할 수도 있습니다.  
그럼 아이유,아이오아이,에이핑크,인피니티 등 많은 가수들의 노래가 한 공간에 저장될 것이고  
이것은 그 공간 내에서 연결리스트로 구현을 합니다.  
그런데 다른 장소에는 저장되는 일이 별로 없이 공간만 낭비되고 있다면 해시테이블의 속도는  
엄청나게 느려지게 됩니다.

그래서 이상적인 해시함수는 해시테이블 전체에 고르게 할당하고, 연결리스트를 최소화 하는 것입니다.

||해시(평균)|해시(최악)|배열|연결리스트|
|:--------:|:--------:|:--------:|:--------:|:--------:|
|탐색|O(1)|O(n)|O(1)|O(n)|
|삽입|O(1)|O(n)|O(n)|O(1)|
|삭제|O(2)|O(n)|O(n)|O(1)|

해시는 그래서 어떻게 활용하느냐에 따라 최악이 최선이 될 수도 있겠네요.

##### [](#마치며… "마치며…")마치며…

해시테이블은 대부분의 프로그래밍 언어들이 제공하고 있어 직접 구현하는 경우는 매우 드뭅니다.  
해시의 성능에 대한 이야기를 너무 길어지고 어려울 것 같아서 제외했습니다.  
해시테이블이 어떻게 더 상세하게 돌아가는지는 궁금하신 분은 다른 글들을  
좀 더 찾아서 읽어보시기 바랍니다.

다음 포스팅에선 그래프와 너비 우선 탐색을 알아보도록 하겠습니다.

{% blockquote Hello Coding 알고리즘, 아디트야 바르가바 %}
해당 포스팅은 다음의 도서을 참고하여 작성되었습니다.
{% endblockquote %}
